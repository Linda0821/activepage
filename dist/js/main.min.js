!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="./",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=(n.n(o),n(2)),r=(n.n(i),n(3));n.n(r)},function(e,t){},function(e,t){},function(e,t){function n(){try{var e=window.App.getUserStatus();0==e?(debug_print("正常"),o()):-1==e&&(debug_print("未登录"),d.innerHTML="未登录<br> 请先登录",a(!1))}catch(e){debug_print("isLoggedIn "+e),o()}}function o(){try{var e=window.App.getObjectId()}catch(t){debug_print("getUmeUserInfo 101: "+t);var e="74f14d5d8c12d3fa7e999e66"}i(e)}function i(e){$.ajax({type:"GET",url:"http://browser.umeweb.com/cn_ume_api/anniv/api/check/lottery/"+e,dataType:"json",cache:!1,xhrFields:{withCredentials:!0},success:function(t){debug_print("sucess:"+JSON.stringify(t)),debug_print("sucess objectId:"+e),0==t.Code?(debug_print("sucess playNum :"+t.Result.lottery_balance),l=t.Result.lottery_balance,d.innerHTML="抢豪礼<br>还有<span>"+l+"</span>次",a(!0,e,t.Result.lottery_prize)):s(t.Code)},error:function(e,t){debug_print(t)}})}function r(e,t,n){var o="http://browser.umeweb.com/cn_ume_api/anniv/api/play/lottery/"+e+"/"+t;debug_print(e+"  coin：  "+t),axios.create({withCredentials:!0}).post(o).then(function(e){console.log(e),0==e.data.Code?(l--,d.innerHTML="抢豪礼<br>还有<span>"+l+"</span>次",c(n)):s(e.data.Code)}).catch(function(e){console.log(e)})}function a(e,t,n){$("#arrow").unbind("click").click(function(){if(debug_print("clickFn arrow"),1==e){if(m||l<=0)return;m=!0,h.gameRandomPrize(t,n)}else try{window.App.login()}catch(e){console.info("window.App.login()"+e)}})}function s(e){var t=e||"",n='<div class="notice_pop">亲，服务器繁忙（'+t+"），请过一会后再试？</div>";popup.open({width:5.88889,height:2.88888,title:"",content:n}),$("#submitBtn").html("确认")}function c(e){if(debug_print("抽奖结果："+g[e].prize+"num:"+g[e].num),7==g[e].num){var t='<div class="notice" style="padding: 0.8rem 0 .6rem;"><p>'+g[e].des+'</p></div> <button class="btn_ck">去查看</button>';popup.open({width:6.11111,height:3.16667,title:"",content:t}),$(".popUp_c h2").hide()}else{var t='<div class="notice"><span class="'+g[e].className+'"></span><p>恭喜您获得'+g[e].prize+",</p><p>"+g[e].des+'</p></div> <button class="btn_ck">去查看</button>';popup.open({width:6.111111,height:4.66667,title:g[e].title,content:t}),$(".popUp_c").attr("id","pop_game"),$("#pop_game h2").css({height:"1.4rem","line-height":"1.4rem"})}$(".popUp_c").attr("id","pop_game"),$("#pop_game h2").css({height:"1.4rem","line-height":"1.4rem",color:"#653d20","font-weight":"normal","font-size":".6rem"}),$("#cancelBtn").show().css({width:".6rem",height:".6rem",background:"url(http://browser.umeweb.com/v6/ume/img/apprentice/close1.png) no-repeat","background-size":".6rem .6rem",position:" absolute",top:"-1.02222rem",right:"0rem"}),$("#pop_game").css({"background-color":"#FCD494"}),$("#pop_game .notice").css({"text-align":"left","font-size":".6rem",color:"#653d20"}),$("#pop_game p").css({"font-size":".33rem","text-align":"center"}),$("#pop_game button").css({width:"2rem",height:".7rem","line-height":".7rem","font-size":".3rem","text-align":"center",border:"none",color:"#fff","margin-top":".2rem","background-color":"#FF6B60","border-radius":".6rem"}),$("#pop_game button").click(function(){p(),"img-water"==g[e].className?window.location.href="../estate/":"img-coin"==g[e].className||"img-bag"==g[e].className?window.location.href="../../wealth.html":window.location.href="../anniversary/"})}function p(){var e=document.getElementById("popUp"),t=document.getElementById("popMask");document.body.removeChild(e),document.body.removeChild(t),$("body").css({overflow:"auto"})}var u=document.getElementById("wheel"),d=document.querySelector(".luckDrawCount"),l=5,m=!1,g=[{title:"中奖啦!",des:"您可在摇钱树——金币庄园查看。",num:1,idx:6,prize:"50g水滴",className:"img-water",rate_r:.25,rate_e:.25},{title:"中奖啦!",des:"您可在摇钱树——金币庄园查看。",num:2,idx:1,prize:"100水滴",className:"img-water",rate_r:.25,rate_e:.2},{title:"中奖啦!",des:"您可在我的财富——金币查看。",num:3,idx:0,prize:"100金币",className:"img-coin",rate_r:.25,rate_e:.25},{title:"中奖啦!",des:"您可在我的财富——金币查看。",num:4,idx:3,prize:"200金币",className:"img-coin",rate_r:.15,rate_e:.2},{title:"中奖啦!",des:"您可在我的财富——零钱查看。",num:5,idx:5,prize:"1元红包",className:"img-bag",rate_r:.01,rate_e:0},{title:"中奖啦!",des:"您可在我的财富——零钱查看。",num:6,idx:2,prize:"2元红包",className:"img-bag",rate_r:.005,rate_e:0},{title:"",des:"很遗憾，未中奖，下次加油！",num:7,idx:4,prize:"这次没有中奖哦",rate_r:.085,rate_e:.1}],h={rotateZPositionCount:0,preUseRotateZ:0,rotateZ:360,rotateZCount:10,runTime:6,rotateZPosition:[330,286,230,180,128,75,25],gameAction:function(e,t){var n=this.rotateZPositionCount-this.preUseRotateZ+this.rotateZPosition[t]+this.rotateZ*this.rotateZCount;u.style.transition="transform "+this.runTime+"s ease-in-out 0s",u.style.transform="rotateZ("+n+"deg)",this.preUseRotateZ=this.rotateZPosition[t],this.rotateZPositionCount=n,setTimeout(function(){m=!1,console.info("rotateZPositionIndex:"+t),console.info(g[t].idx+"\r\n"+g[t].num+"\r\n"+g[t].title+"\r\n"+g[t].prize),r(e,g[t].num,g[t].idx)},1e3*this.runTime)},gameRandomPrize:function(e,t){var n=4,o=200*Math.random(),i=0|parseInt(o);console.info(o+"-----"+i);var r=[];t.indexOf(5)<0||t.indexOf(6)<0?(r[0]=200*g[6].rate_e+5,r[1]=r[0]+200*g[0].rate_e,r[2]=r[1]+200*g[1].rate_e,r[3]=r[2]+200*g[3].rate_e,console.info("temp 0:"+r)):(r[0]=200*g[6].rate_r+5,r[1]=r[0]+200*g[0].rate_r,r[2]=r[1]+200*g[1].rate_r,r[3]=r[2]+200*g[3].rate_r,console.info("temp 1:"+r)),t.length>1&&(n=i>=0&&i<1?t.indexOf(6)<0?4:2:i<5?t.indexOf(5)<0?4:5:i<r[0]?6:i<r[1]?0:i<r[2]?1:i<r[3]?3:4,console.info("arr.length>1 prizeNum:"+n)),h.gameAction(e,n)}};window.onload=function(){g.sort(function(e,t){return e=e.idx,t=t.idx,e-t}),console.info(g),n()},window.onRefreshPage=function(){debug_print("luckdraw shuaxin onRefreshPage()");try{var e=window.App.getUserStatus();0==e?(debug_print("shuaxin 正常"),d.innerHTML="抢豪礼<br>还有<span>0</span>次",o()):-1==e&&debug_print("shuaxin 未登录")}catch(e){debug_print("shuaxin isLoggedIn "+e)}},window.debug_print=function(e){try{window.App.logger(e)}catch(t){console.log(e)}}}]);